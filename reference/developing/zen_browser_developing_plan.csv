ID,Area,Interaction,Zen_Behavior,Zen_Ref,UX_Spec_Ref,XBrowser_Current,XBrowser_Task,Suggested_Files,DependsOn,Priority,Milestone,Status,Done_Criteria,Test_Steps
DEV-WP-001,Panels/Web,Web Panels 数据层与持久化,Zen 侧栏提供可固定的 Web Panels 列表；可增删改并跨重启保留,,docs/UX_SPEC.md,当前无 Web Panels 数据层/持久化,新增 WebPanelsStore(QAbstractListModel+JSON)；提供 add/remove/update/clear/reorder；暴露给 QML；补充单元测试,src/core/WebPanelsStore.*; src/app/main.cpp; tests/TestWebPanelsStore.cpp; tests/CMakeLists.txt,,P0,M8,done,可新增/删除至少 1 个 panel 且重启后仍存在；ctest 通过,运行应用->通过 Panels 管理新增 https://example.com -> 重启后仍在；运行 ctest -C Debug --output-on-failure
DEV-WP-002,Panels/Web,侧栏 Panels 管理弹窗（列表/添加/删除/打开）,Zen 的面板入口路径短：点开即管理；操作不会被侧栏裁剪/遮挡,,docs/UX_SPEC.md,当前无 Panels 入口与管理 UI,新增 Sidebar Panels 工具按钮；用 PopupManager 打开 WebPanelsDialog；支持：新增 URL/从当前标签添加/删除/打开到右侧面板,ui/qml/BrowserWindow.qml; ui/qml/components/WebPanelsDialog.qml; ui/ui.qrc,DEV-WP-001,P0,M8,done,可以在弹窗里新增/删除/打开 panel 且弹窗不被侧栏裁剪,点击侧栏 Panels->弹窗出现；新增 URL；点击条目打开；关闭弹窗后主界面仍可操作
DEV-WP-003,Panels/Web,右侧 Web Panel Host（可开关+分隔线可拖拽）,Zen 面板通常以窗口内侧边区域呈现；宽度可拖拽且状态可预期,,docs/UX_SPEC.md,当前无窗口内 Web Panel 区域,在主布局增加右侧 panelHost(WebView2View)；支持：打开/关闭；拖拽分隔线调整宽度；双击复位；Open in tab,ui/qml/BrowserWindow.qml; src/core/AppSettings.*; tests/TestAppSettings.cpp (if any),DEV-WP-002,P0,M8,done,打开 panel 后右侧出现 WebView2 内容；拖拽分隔线生效；重启后宽度/开关按预期保持,打开任意 panel -> 拖拽分隔线 -> 关闭/重启 -> 状态一致；打开 panel 内网页可正常导航
DEV-WP-004,Meta/Process,模块验收与归档,每个模块完成后必须可回归测试；记录到计划表并可汇总,,docs/UX_SPEC.md,当前无本轮 Panels 模块的回归记录,完成 DEV-WP-* 后将 Status 全部置为 done；运行合并脚本生成 merged CSV；检查 areas/counts 更新,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-WP-001,P0,M8,done,merged_developing 为空且 merged_developed 包含 DEV-WP-*；areas/counts 正确,修改 Status->done；运行 scripts/merge_plans.ps1；检查 reference/zen_browser_merged_developing.csv
DEV-WP-005,Panels/Web,Panels 管理弹窗增强：排序/重命名/错误提示,Zen 的 Web Panels 列表支持排序与命名且操作路径短,,docs/UX_SPEC.md,当前弹窗仅支持新增/删除/打开且不显示持久化错误,WebPanelsDialog 增加上移/下移排序与重命名；显示 panels.lastError；支持 ESC 关闭,ui/qml/components/WebPanelsDialog.qml,DEV-WP-002,P1,M9,done,可在列表上移/下移并重启保持顺序；可重命名并重启保持；IO 错误可见,打开 Panels 弹窗->新增两个->上移/下移->重启顺序保持；重命名一个->重启标题保持；将数据目录设为只读后触发保存->显示错误
DEV-WP-006,Panels/Web,WebPanelsStore：updatePanel 持久化单测,面板数据层需可回归测试避免回归,,docs/UX_SPEC.md,已有 add/remove/move 单测但缺少 updatePanel 覆盖,为 updatePanel/重命名场景补充 QtTest 用例并覆盖持久化回读,tests/TestWebPanelsStore.cpp,DEV-WP-001,P2,M9,done,ctest 覆盖 updatePanel 且通过,cmake --build build --config Debug；ctest -C Debug --output-on-failure
DEV-WP-007,Meta/Process,模块验收与归档(M9),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 WebPanelsDialog 增强尚未归档,完成 DEV-WP-005/006 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-WP-005,P0,M9,done,merged_developing 为空且 merged_developed 包含 DEV-WP-005/006/007；areas/counts 正确,修改 Status->done；运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-LAYOUT-001,Window/Layout,侧栏右侧模式（对齐 Zen vertical tabs right-side）,Zen 支持 zen.tabs.vertical.right-side 将垂直标签/侧栏放到右侧,,docs/UX_SPEC.md,当前侧栏固定在左侧,新增 AppSettings.sidebarOnRight；BrowserWindow 主布局根据该开关交换 sidebar/webPanel 位置；修正拖拽分隔线方向与 compactMode 边缘 hover 区,src/core/AppSettings.*; ui/qml/BrowserWindow.qml; ui/qml/components/SettingsDialog.qml,,"P1","M9",done,开启开关后侧栏在右侧且拖拽分隔线方向正确；重启后仍保持；webPanel 随布局镜像且可拖拽宽度,打开 Settings->Appearance->Sidebar on right；观察侧栏移到右侧；拖拽侧栏分隔线/双击复位；打开任意 Web Panel 验证其在左侧且分隔线可拖拽；重启验证保持；运行 ctest -C Debug --output-on-failure
DEV-LAYOUT-002,Settings,AppSettings：sidebarOnRight 持久化单测,设置项必须可回归测试避免回归,,docs/UX_SPEC.md,TestAppSettings 未覆盖 sidebarOnRight,扩展 TestAppSettings：设置 sidebarOnRight=true 后写入 settings.json 并断言字段存在且为 true,src/core/AppSettings.*; tests/TestAppSettings.cpp,DEV-LAYOUT-001,"P2","M9",done,ctest 覆盖 sidebarOnRight 持久化并通过,cmake --build build --config Debug；ctest -C Debug --output-on-failure
DEV-LAYOUT-003,Meta/Process,模块验收与归档(M9 Layout),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 Layout 模块尚未归档,完成 DEV-LAYOUT-001/002 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-LAYOUT-001,"P0","M9",done,merged_developing 为空且 merged_developed 包含 DEV-LAYOUT-001/002/003；areas/counts 正确,修改 Status->done；运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-UI-001,Core/UI,LayoutController：集中布局状态（对齐 Zen UIManager）,Zen 的 gZenUIManager 统一管理垂直侧栏/单工具栏/弹层状态与动画,,docs/UX_SPEC.md,布局状态逻辑（showTopBar/showSidebar/sidebarIconOnly）散落在 BrowserWindow.qml,新增 LayoutController(QObject)：绑定 AppSettings + UI transient flags（hover/compactEdge/popupContext/focus）；QML 用 layoutController.showTopBar/showSidebar/sidebarIconOnly,src/core/LayoutController.*; src/app/main.cpp; ui/qml/BrowserWindow.qml,,"P1","M9",done,逻辑从 QML 收敛到 LayoutController 且行为不回归；切换 compactMode/hover/omnibox popup 时 showTopBar/showSidebar 按预期,开启 compactMode->靠近顶部/左侧边缘 hover：TopBar/Sidebar 按预期显示/隐藏；打开侧栏工具 popup 时 Sidebar 不应被 compactMode 自动隐藏；运行 ctest -C Debug --output-on-failure
DEV-UI-002,Core/UI,LayoutController 单测,布局状态逻辑需要单测防回归,,docs/UX_SPEC.md,暂无 LayoutController 自动化覆盖,新增 TestLayoutController 覆盖 showTopBar/showSidebar/sidebarIconOnly 关键组合与 settings 变更联动,src/core/LayoutController.*; tests/TestLayoutController.cpp; tests/CMakeLists.txt,DEV-UI-001,"P2","M9",done,ctest 包含 layout controller 用例且通过,cmake --build build --config Debug；ctest -C Debug --output-on-failure
DEV-UI-003,Meta/Process,模块验收与归档(M9 UI),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 UI/LayoutController 模块尚未归档,完成 DEV-UI-001/002 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-UI-001,"P0","M9",done,merged_developing 为空且 merged_developed 包含 DEV-UI-001/002/003；areas/counts 正确,修改 Status->done；运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-UI-004,Core/UI,单工具栏模式（地址栏移入侧栏）,Zen 的 single toolbar 模式会将导航/地址相关 UI 收敛并与侧栏布局联动,,docs/UX_SPEC.md,当前地址栏仅在顶部 ToolBar；开启 compactMode/隐藏顶部后缺少等价侧栏地址入口,新增 AppSettings.useSingleToolbar；singleToolbar 启用时顶栏保持最小（仅菜单/窗口按钮），侧栏顶部提供地址栏（含 omnibox popup）；focus-address 路由到当前地址栏,src/core/AppSettings.*; src/core/LayoutController.*; ui/qml/BrowserWindow.qml; ui/qml/components/SettingsDialog.qml,DEV-UI-001,"P1","M9",done,开启 useSingleToolbar 后可在侧栏地址栏输入并导航；compactMode 下 Ctrl+L 可唤起侧栏地址栏；关闭侧栏时自动回退到顶部地址栏,开启 Settings->Appearance->Use single toolbar；在侧栏地址栏输入 example.com 回车；开启 compactMode 后鼠标不靠近侧栏按 Ctrl+L：侧栏出现并聚焦地址栏；Toggle Sidebar 关闭侧栏后 Ctrl+L 聚焦顶部地址栏；运行 ctest -C Debug --output-on-failure
DEV-UI-005,Settings,AppSettings：useSingleToolbar 持久化单测,设置项必须可回归测试避免回归,,docs/UX_SPEC.md,TestAppSettings 未覆盖 useSingleToolbar,扩展 TestAppSettings：设置 useSingleToolbar=true 后写入 settings.json 并断言字段存在且为 true,src/core/AppSettings.*; tests/TestAppSettings.cpp,DEV-UI-004,"P2","M9",done,ctest 覆盖 useSingleToolbar 持久化并通过,cmake --build build --config Debug；ctest -C Debug --output-on-failure
DEV-UI-006,Meta/Process,模块验收与归档(M9 SingleToolbar),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 SingleToolbar 模块尚未归档,完成 DEV-UI-004/005 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-UI-004,"P0","M9",done,merged_developing 为空且 merged_developed 包含 DEV-UI-004/005/006；areas/counts 正确,修改 Status->done；运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-UI-007,Layering/Popups,CompactMode：弹层打开时顶栏保持展开,Zen 在 compact mode 下打开顶部相关弹层（menu/下载/切换器等）时不会让顶栏瞬间折叠导致锚点消失,,docs/UX_SPEC.md,当前 compactMode 下打开 downloads/menu/site panel/tab switcher 等弹层后顶栏可能因 hover 丢失而折叠，导致按钮消失/弹层位置跳动,为顶部相关弹层统一设置 popupManagerContext；LayoutController 在 compactMode 下识别这些 context 并保持 showTopBar=true（不影响 singleToolbar）,ui/qml/BrowserWindow.qml; src/core/LayoutController.*; tests/TestLayoutController.cpp,DEV-UI-001,"P1","M10",done,compactMode 下打开 main menu/downloads/site panel/tab switcher/extensions panel 时顶栏不折叠且弹层位置稳定；ctest 通过,开启 compactMode；在顶栏依次打开 main menu/Downloads/Site panel/Tab switcher/Extensions panel，移动鼠标到弹层内：顶栏保持展开且按钮不消失；运行 ctest -C Debug --output-on-failure
DEV-UI-008,Layering/Popups,LayoutController：TopBar 弹层 context 单测,避免 compactMode 弹层导致 showTopBar 回归,,docs/UX_SPEC.md,TestLayoutController 仅覆盖 omnibox 对 showTopBar 的影响,扩展 TestLayoutController 覆盖 main-menu/downloads-panel/site-panel/tab-switcher/extensions-panel/extension-popup 等 context 对 showTopBar 的影响,tests/TestLayoutController.cpp; src/core/LayoutController.*,DEV-UI-007,"P2","M10",done,ctest 覆盖新增 context 场景且通过,cmake --build build --config Debug；ctest -C Debug --output-on-failure
DEV-UI-009,Meta/Process,模块验收与归档(M10 Popups),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 Popups/CompactMode 模块尚未归档,完成 DEV-UI-007/008 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-UI-007,"P0","M10",done,merged_developing 为空且 merged_developed 包含 DEV-UI-007/008/009；areas/counts 正确,修改 Status->done；运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-UI-010,Layering/Popups,CompactMode：侧栏/工具栏右键菜单与二级弹层保持锚点稳定,Zen 的各类菜单/二级弹层打开后不会因 compactMode 的 hover 丢失导致侧栏/顶栏瞬间折叠（锚点消失/位置跳动）,,docs/UX_SPEC.md,当前只覆盖了部分顶栏弹层；侧栏 tab/group 右键菜单、扩展图标右键菜单、站点权限面板、侧栏底部 workspace 菜单等场景可能仍会触发折叠,为上述弹层补齐 popupManagerContext（sidebar-context-menu/extensions-context-menu/site-permissions/emoji-picker/sidebar-workspace-menu 等）；LayoutController 在 compactMode 下识别并保持 showTopBar/showSidebar,ui/qml/BrowserWindow.qml; ui/qml/components/SidebarFooter.qml; src/core/LayoutController.*; tests/TestLayoutController.cpp,DEV-UI-007,"P1","M10",done,compactMode 下打开侧栏 tab/group 右键菜单与侧栏底部 workspace 菜单时侧栏不折叠；打开扩展图标右键菜单/站点权限面板/emoji picker 时顶栏不折叠；ctest 通过,开启 compactMode；右键侧栏底部 tab/group 打开菜单后移动鼠标到菜单：侧栏不收起；点击侧栏底部 ⋮ 打开 workspace 菜单并进入 Rename：侧栏不收起；右键 pinned 扩展图标打开菜单：顶栏不折叠；打开 Site panel->Permissions：顶栏不折叠；点击 emoji 按钮：顶栏不折叠；运行 ctest -C Debug --output-on-failure
DEV-UI-011,Layering/Popups,LayoutController：侧栏/工具栏弹层 context 单测,避免 compactMode 下弹层导致 showTopBar/showSidebar 回归,,docs/UX_SPEC.md,TestLayoutController 覆盖了 top bar 弹层，但未覆盖 sidebar-context-menu / extensions-context-menu / site-permissions 等新增 context,扩展 TestLayoutController：compactMode 下设置 popupManagerContext 为上述值时 showTopBar/showSidebar 按预期；并覆盖 singleToolbarActive+omnibox 时 sidebar 保持,tests/TestLayoutController.cpp; src/core/LayoutController.*,DEV-UI-010,"P2","M10",done,ctest 覆盖新增 context 场景且通过,cmake --build build --config Debug；ctest -C Debug --output-on-failure
DEV-UI-012,Meta/Process,模块验收与归档(M10 PopupContexts),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 PopupContexts 模块尚未归档,完成 DEV-UI-010/011 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-UI-010,"P0","M10",done,merged_developing 为空且 merged_developed 包含 DEV-UI-010/011/012；areas/counts 正确,修改 Status->done；运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-REVIEW-001,Meta,对齐 Zen：已实现功能评估与差距清单(M11),Zen 的布局/compact/single toolbar/popup/omnibox 体验一致且有性能基线,,docs/UX_SPEC.md,当前已实现 LayoutController+singleToolbar+compact popup contexts 等；缺少系统性评估与性能/测试基线,输出评估文档：已实现清单；与 Zen 差距；性能热点；后续建议,docs/ZEN_ALIGNMENT_REVIEW.md,,"P1","M11",done,评估文档可读且列出差距与建议；不影响编译；后续任务在本迭代中落地,无（文档）；最终运行 cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-MOTION-002,Motion,CompactMode：TopBar 展开/折叠动效对齐 Zen,compact mode 下 top bar 展开/折叠平滑且不跳动；reduceMotion 关闭动画,,docs/UX_SPEC.md,showTopBar 切换时 topBar 高度瞬变,为 topBar height 添加动画（尊重 reduceMotion）；保持单工具栏/弹层打开时锚点稳定,ui/qml/BrowserWindow.qml,DEV-UI-007,"P2","M11",done,compactMode 下 hover 顶部边缘展开/收起有动画且无抖动；reduceMotion 时无动画；ctest 通过,开启 compactMode；反复进入/离开顶部 hover 区观察动画；打开 main menu/downloads/emoji picker 等弹层观察锚点稳定；运行 cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-OMNI-004,Omnibox,Omnibox：输入防抖与 tab/workspace 匹配性能优化,大量 tab/workspace 下输入保持响应且 CPU 开销可控,,docs/UX_SPEC.md,updateOmnibox 每次按键都扫描并排序 tabs/workspaces,引入 C++ OmniboxUtils 提供 tab/workspace 命中；QML 添加短延迟防抖；减少每次按键排序,src/core/OmniboxUtils.*; src/app/main.cpp; ui/qml/BrowserWindow.qml; tests/TestOmniboxUtils.cpp; tests/CMakeLists.txt,DEV-UI-001,"P1","M11",done,omnibox 输入更新经防抖；tab/workspace 命中通过 C++ utils 生成；大 tab 数输入无明显卡顿；ctest 通过,打开多 tab（>=50）快速输入/删除观察无明显卡顿；运行 cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-OMNI-005,Omnibox,OmniboxUtils：匹配与排序单测覆盖,核心匹配逻辑可回归测试避免性能/排序回归,,docs/UX_SPEC.md,无 omnibox 匹配单测,新增 QtTest：覆盖 fuzzyScore/matchRange/tabSuggestions/workspaceSuggestions 的排序与 limit,src/core/OmniboxUtils.*; tests/TestOmniboxUtils.cpp; tests/CMakeLists.txt,DEV-OMNI-004,"P2","M11",done,ctest 新增 xbrowser_test_omnibox_utils 且通过,cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-META-011,Meta/Process,模块验收与归档(M11 Review/Perf/Tests),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 M11 尚未归档,完成 DEV-REVIEW-001/DEV-MOTION-002/DEV-OMNI-004/DEV-OMNI-005 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-REVIEW-001,"P0","M11",done,merged_developing 为空且 merged_developed 包含本轮条目；areas/counts 正确,运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-UI-013,CompactMode,CompactMode：Find Bar 打开时顶栏保持展开,Zen 的 compact mode 下打开 Find in Page 时不会让顶栏折叠导致浮窗锚点不稳定,,docs/UX_SPEC.md,当前 FindBar 通过 ToolWindowManager 打开但 LayoutController 未识别该状态，compactMode 下可能导致顶栏折叠,LayoutController 新增 toolWindowManagerContext 并识别 find-bar；compactMode 下保持 showTopBar=true,src/core/LayoutController.*; ui/qml/BrowserWindow.qml; tests/TestLayoutController.cpp,DEV-UI-001,"P1","M12",done,compactMode 下 Ctrl+F 打开 FindBar 后顶栏保持展开且不抖动；关闭 FindBar 后可恢复折叠；ctest 通过,开启 compactMode；鼠标离开顶部使顶栏折叠；按 Ctrl+F 打开 FindBar：顶栏展开并保持；关闭 FindBar：顶栏可再次折叠；运行 cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-UI-014,Core/UI,LayoutController：FindBar context 单测覆盖,避免 compactMode 下 FindBar 导致 showTopBar 回归,,docs/UX_SPEC.md,TestLayoutController 未覆盖 toolWindowManagerContext,扩展 TestLayoutController：compactMode 下 toolWindowManagerContext=find-bar 时 showTopBar=true,tests/TestLayoutController.cpp; src/core/LayoutController.*,DEV-UI-013,"P2","M12",done,ctest 覆盖 find-bar 场景且通过,cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-UI-015,Meta/Process,模块验收与归档(M12 FindBar),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 M12 尚未归档,完成 DEV-UI-013/014 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-UI-013,"P0","M12",done,merged_developing 为空且 merged_developed 包含 DEV-UI-013/014/015；areas/counts 正确,修改 Status->done；运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-REVIEW-002,Meta,对齐 Zen：现状复核与后续计划(M13),Zen 的关键交互/性能/测试对齐且差距可追踪,,docs/UX_SPEC.md,M12 已完成但缺少一次针对 UI 时序与 omnibox C++ 热点的复核,更新 ZEN_ALIGNMENT_REVIEW：补充 FindBar/Compact 时序与 OmniboxUtils 性能优化点；列出下一步 TODO,docs/ZEN_ALIGNMENT_REVIEW.md,,P2,M13,done,文档更新且差距/建议清晰；不影响编译；ctest 通过,无（文档）；运行 cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-UI-016,CompactMode,CompactMode：hover 进入/退出时序对齐 UX_SPEC,进入 hover 120ms 展开；离开 300ms 折叠以降低误触与抖动,,docs/UX_SPEC.md,compactTop/compactSidebar 进入/退出 timer 时序与 UX_SPEC 不一致,调整 compactTopEnter/Exit 与 compactSidebarEnter/Exit 的 interval 为 120ms/300ms,ui/qml/BrowserWindow.qml,DEV-MOTION-002,P2,M13,done,compactMode 下顶部/侧栏 hover 展开与折叠时序符合 120ms/300ms 且无明显抖动；ctest 通过,开启 compactMode；反复进入/离开顶部与侧栏 hover 区观察时序；打开 main menu/downloads/omnibox 等弹层确认锚点仍稳定；运行 cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-OMNI-006,Omnibox,OmniboxUtils：减少分配与无效计算（性能）,大量 tab/workspace 下输入仍流畅且 CPU 开销可控,,docs/UX_SPEC.md,matchRange 通过 toLower 分配；tabSuggestions 对非入榜候选也计算 matchRange/构造命中信息,matchRange 改为 case-insensitive indexOf 避免 toLower；tabSuggestions 仅对可能入榜候选计算 matchRange 并尽量延后 url.toString,src/core/OmniboxUtils.*; tests/TestOmniboxUtils.cpp,DEV-OMNI-005,P1,M13,done,OmniboxUtils 性能优化生效且保持行为一致；ctest 通过,打开 >=100 个 tab；快速输入/删除观察无明显卡顿；运行 cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-UI-017,Core/UI,LayoutController：边界条件与上下文覆盖增强,compact/singleToolbar/隐藏地址栏组合下布局状态稳定且可回归,,docs/UX_SPEC.md,TestLayoutController 未覆盖 addressBarVisible=false 与 singleToolbar+sidebarExpanded=false 等边界,扩展 TestLayoutController 覆盖：addressBarVisible=false 时 showTopBar=false；singleToolbar 开启但侧栏不可用时 showTopBar=true；unknown context 不影响,tests/TestLayoutController.cpp; src/core/LayoutController.*,DEV-UI-014,P2,M13,done,新增边界场景单测覆盖且 ctest 通过,cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-OMNI-007,Omnibox,OmniboxUtils：回归用例补齐（URL 命中/trim 等）,omnibox 匹配逻辑可回归避免排序/匹配回归,,docs/UX_SPEC.md,TestOmniboxUtils 未覆盖 URL 命中但 title 不命中与 matchRange trim 行为,扩展 TestOmniboxUtils：覆盖仅 URL 命中时仍返回；matchRange 对 query 两端空白的 trim 行为,tests/TestOmniboxUtils.cpp,DEV-OMNI-006,P2,M13,done,xbrowser_test_omnibox_utils 覆盖新增用例且通过,cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-META-012,Meta/Process,模块验收与归档(M13 UX/Perf/Tests),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 M13 尚未归档,完成 DEV-REVIEW-002/DEV-UI-016/DEV-OMNI-006/DEV-UI-017/DEV-OMNI-007 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-REVIEW-002,P0,M13,done,merged_developing 为空且 merged_developed 包含本轮条目；areas/counts 正确,运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
DEV-OMNI-008,Omnibox,Omnibox：书签/历史建议（对齐 UX_SPEC 8.3）,下拉建议包含书签与历史匹配并可键盘选择打开,,docs/UX_SPEC.md,omnibox 仅包含 Navigate/Search + Tabs/Workspaces 命中,OmniboxUtils 新增 bookmarkSuggestions/historySuggestions；BrowserWindow 将结果插入 Bookmarks/History 分组并支持打开到当前 tab,src/core/OmniboxUtils.*; ui/qml/BrowserWindow.qml; tests/TestOmniboxUtils.cpp; tests/CMakeLists.txt,DEV-OMNI-007,P1,M14,done,输入关键字可看到 Bookmarks/History 分组；Enter/点击可打开；ctest 通过,准备：添加 2 个书签+产生 2 条历史；在地址栏输入匹配关键字确认出现 Bookmarks/History；用 ↑/↓ 选择并 Enter 打开；Esc 关闭建议/还原 URL；运行 cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-OMNI-009,Omnibox,OmniboxUtils：书签/历史建议单测覆盖,建议来源需可回归测试避免匹配/排序回归,,docs/UX_SPEC.md,无 bookmarkSuggestions/historySuggestions 单测,扩展 TestOmniboxUtils：覆盖 trim、url-only 命中、按时间排序与 limit,tests/TestOmniboxUtils.cpp; tests/CMakeLists.txt,DEV-OMNI-008,P2,M14,done,ctest 覆盖新增用例且通过,cmake --build build --config Debug；cd build; ctest -C Debug --output-on-failure
DEV-META-013,Meta/Process,模块验收与归档(M14 Omnibox Suggestions),每个模块完成后必须可回归测试并刷新汇总,,docs/UX_SPEC.md,本轮 M14 尚未归档,完成 DEV-OMNI-008/009 后将 Status 置为 done；运行合并脚本刷新 merged CSV,reference/developing/zen_browser_developing_plan.csv; scripts/merge_plans.ps1,DEV-OMNI-008,P0,M14,done,merged_developing 为空且 merged_developed 包含本轮条目；areas/counts 正确,运行 powershell -NoProfile -ExecutionPolicy Bypass -File scripts/merge_plans.ps1 -IncludeLayout；检查 reference/zen_browser_merged_developing.csv
