"ID","Area","Feature","Zen_Source","Zen_UI","XBrowser_Current","XBrowser_Task","Suggested_Files","DependsOn","Priority","Milestone","Status","Done_Criteria","Test_Steps"
"META-001","Meta","Snapshot","ZenRepo=https://github.com/zen-browser/desktop; ZenRef=dev; ZenCommit=bc24c2b11defdead246d2f76d51973aef984a440; License=MPL-2.0; Local=reference/zen-browser-src/desktop-dev","基于 zen-browser/desktop 分支 dev 的 src/zen 及 browser/base/content 的 zen 相关文件","已实现(基础)","作为后续复刻 Zen 交互与布局的对照基线","reference/zen_browser_feature_layout.csv","","META","META","done","CSV 中每行均可追溯到 Zen 源码路径",""
"ZEN-001","Build/Packaging","纳入 Zen 源码目录","src/browser/base/moz-build.patch; src/zen/moz.build","构建系统把 src/zen 编进 Firefox/Zen 构建","已记录","已记录：Zen 通过 moz.build 集成到构建（非纯 runtime 注入）；XBrowser 等价为 CMake + QRC/QML。","docs/ZEN_BUILD_NOTES.md","","P3","M4","done","确认 Zen 是通过 moz.build 集成而非仅 runtime 注入","打开 docs/ZEN_BUILD_NOTES.md 并检查 ZEN-001 小节"
"ZEN-002","Build/Packaging","打包 Zen 资源到 browser.jar","src/browser/base/jar-mn.patch; src/browser/base/content/zen-assets.jar.inc.mn; src/zen/**/jar.inc.mn","把 zen-styles/zen-components 等映射到 chrome://browser/...","已记录","已记录：Zen 通过 jar manifest 将资源映射到 chrome://browser/...；XBrowser 等价为 QRC + QML 资源组织。","docs/ZEN_BUILD_NOTES.md","","P3","M4","done","列清 Zen 的资源入口与加载点即可","打开 docs/ZEN_BUILD_NOTES.md 并检查 ZEN-002 小节"
"ZEN-003","Build/Startup","组件与 WindowActor 注册","src/zen/ZenComponents.manifest; src/zen/common/Components.manifest; src/zen/common/sys/ZenActorsManager.sys.mjs; src/zen/sessionstore/SessionComponents.manifest","app-startup 与 browser-before-ui-startup 阶段挂载","部分实现","(可选)XBrowser 若需要 content 注入/拦截，需设计 WebView2 的消息/脚本注入机制","src/engine/webview2/WebView2View.*","","P2","M3","done","能在内容页范围内注入脚本并与宿主双向通信",""
"ZEN-010","Window/Layout","主容器包装","src/browser/base/content/browser-xhtml.patch","browser.xhtml 增加 <hbox id=zen-main-app-wrapper> 包住 toolbox + browser-box","已实现(基础)","在 XBrowser 里定义等价的根布局容器（QML 根 Item），支持全局 overlay/动画层","ui/qml/BrowserWindow.qml","","MVP","M1","done","存在可覆盖全窗口的 overlay 层与根容器引用",""
"ZEN-011","Window/Layout","AppContent 与 Navbar 容器","src/browser/base/content/browser-box-inc-xhtml.patch","browser-box.inc.xhtml 增加 zen-appcontent-wrapper / zen-appcontent-navbar-wrapper / zen-tabbox-wrapper","已实现(基础)","在 XBrowser 中拆分：侧边栏区 + 顶部/侧边地址栏区 + 内容区容器","ui/qml/BrowserWindow.qml; ui/qml/components/*","ZEN-010","MVP","M1","done","布局可独立显示/隐藏地址栏区域且不影响内容区渲染",""
"ZEN-012","Window/Layout","Tabstrip 注入 Essentials 与 Wrapper","src/browser/base/content/navigator-toolbox-inc-xhtml.patch","TabsToolbar/tabstrip 增加 #zen-essentials 与 #zen-tabs-wrapper","已实现(基础)","在 XBrowser 侧边栏中增加 Essentials 区域（固定/常用标签）并与普通标签列表分区","src/core/TabModel.*; ui/qml/BrowserWindow.qml","ZEN-010","MVP","M1","done","侧边栏有可配置的固定区与普通区，支持基本增删/激活",""
"ZEN-013","Sidebar","底部按钮条","src/browser/base/content/zen-sidebar-icons.inc.xhtml; src/zen/media/zen-media-controls.inc.xhtml","#zen-sidebar-foot-buttons: 展开/Workspaces/创建菜单 + media controls include","已实现(基础)","在 XBrowser 侧边栏底部加入固定按钮区：工作区切换、New、侧边栏展开/收起","ui/qml/BrowserWindow.qml; ui/qml/components/SidebarFooter.qml","ZEN-011","MVP","M1","done","底部按钮区固定可用，支持新增标签/切换工作区/收起侧栏",""
"ZEN-014","Sidebar/CustomizableUI","顶部按钮条与 splitter","src/zen/common/sys/ZenCustomizableUI.sys.mjs","运行时创建 #zen-sidebar-top-buttons 与 #zen-sidebar-splitter，注册 CustomizableUI 区域","已实现(基础)","在 XBrowser：实现侧边栏可拖拽宽度（splitter），并持久化到设置","ui/qml/BrowserWindow.qml; src/core/*Settings* (待建)","ZEN-011","MVP","M1","done","侧边栏宽度可拖拽调整，重启后保持",""
"ZEN-015","Window/Layout","Tabbox 附加元素(Toast/Overlays)","src/browser/base/content/zen-tabbrowser-elements.inc.xhtml; src/zen/split-view/zen-splitview-overlay.inc.xhtml; src/zen/glance/zen-glance.inc.xhtml","tabbrowser-tabbox 内 include zen-tabbrowser-elements：toast 容器 + split/glance overlay","已实现(基础)","在 XBrowser：实现 Toast 容器与 Overlay host（Split/Glance 等未来功能共用）","ui/qml/components/OverlayHost.qml; ui/qml/components/ToastHost.qml","ZEN-010","MVP","M1","done","可从任意逻辑触发 toast；overlay 可覆盖内容区并响应点击关闭",""
"ZEN-016","Window/Layout","Zen PopupSet 与 Panels","src/browser/base/content/main-popupset-inc-xhtml.patch; src/browser/base/content/zen-popupset.inc.xhtml; src/browser/base/content/zen-panels/*.inc","main-popupset include zen-popupset，内含 gradient/emoji/folder-search/site-data 等 panel/popup","部分实现","在 XBrowser：用 QML Popup/Drawer/Sheet 体系替代，并统一管理打开/关闭与定位","ui/qml/components/Popups/* (待建)","ZEN-010","P1","M2","done","至少有一个统一 Popup 管理器，可按锚点弹出",""
"ZEN-017","Input/Commands","命令与 Keyset 桥接","src/browser/base/content/zen-commands.inc.xhtml; src/browser/base/content/zen-keysets.inc.xhtml; src/zen/common/zen-sets.js; src/browser/base/content/browser-sets-inc.patch","zenCommandSet + zenKeyset；MozBeforeInitialXULLayout 绑定 command handler","已实现(基础)","在 XBrowser：建立 CommandBus（enum/strings）+ Shortcut 映射层，统一触发业务动作","src/core/*Command* (待建); ui/qml/components/Shortcuts.qml","ZEN-010","MVP","M1","done","快捷键与按钮都走同一套命令入口，便于复刻 Zen 行为",""
"ZEN-020","Startup","预加载模块(更早于 global-scripts)","src/browser/base/content/zen-preloaded.inc.xhtml; src/zen/common/zen-sets.js; src/zen/common/modules/ZenHasPolyfill.mjs; src/zen/workspaces/*.mjs","在 <head> 先加载 zen-sets.js 与部分 module(HasPolyfill/Workspaces)","已实现(基础)","在 XBrowser：应用启动期先初始化 Workspaces/Settings，再构建 UI","src/app/main.cpp; src/core/*Workspace* (待建)","","MVP","M1","done","启动顺序明确：Settings/Workspace -> UI -> WebView2",""
"ZEN-021","Startup","加载 CSS 与 Feature Modules","src/browser/base/content/zen-assets.inc.xhtml; src/zen/common/ZenPreloadedScripts.js","zen-assets.inc.xhtml 链接全量 zen-styles 并加载 ZenPreloadedScripts + 主要 feature module","已实现(基础)","在 XBrowser：拆分 QML 样式/主题变量与组件模块加载，保证主窗口只依赖少量入口文件","ui/qml/BrowserWindow.qml; ui/qml/components/*","ZEN-020","MVP","M1","done","主窗口入口清晰，主题与功能模块可按需加载/开关",""
"ZEN-030","Core","全局预加载脚本注入","src/zen/common/ZenPreloadedScripts.js; src/zen/zen.globals.mjs","ZenPreloadedScripts.js 通过 loadSubScript/importESModule 把 gZen* 注入 window","已实现(基础)","在 XBrowser：用单例 Controller/Service 注入 QML context（如 BrowserController + WorkspaceController）","src/core/BrowserController.*; (建议新增) src/core/WorkspaceController.*","ZEN-021","MVP","M1","done","QML 层可访问统一的 controller/service，对应 Zen 的 gZen*",""
"ZEN-031","Core/UI","UI 总控与垂直标签管理器","src/zen/common/modules/ZenUIManager.mjs","gZenUIManager + gZenVerticalTabsManager：popup 跟踪、context menu 精简、omnibox init、toolbar 更新、动画","已实现(基础)","在 XBrowser：拆分 SidebarController + LayoutController，避免单文件过大但保留统一入口","(建议新增) src/core/LayoutController.*; ui/qml/components/Sidebar.qml","ZEN-011","MVP","M1","done","侧边栏与地址栏布局状态切换可控，且逻辑不散落在多个无关组件",""
"ZEN-032","Core/UI","Toast 系统","src/browser/base/content/zen-tabbrowser-elements.inc.xhtml; src/zen/common/modules/ZenUIManager.mjs","#zen-toast-container + gZenUIManager.showToast(...)","已实现(基础)","在 XBrowser：实现 ToastHost + API（showToast(text,action,timeout)）","ui/qml/components/ToastHost.qml; (建议新增) src/core/ToastController.*","ZEN-015","P1","M2","done","toast 支持可选按钮动作与超时消失",""
"ZEN-033","Notifications","侧边栏通知组件","src/zen/common/modules/ZenSidebarNotification.mjs","<zen-sidebar-notification> 使用 lit/motion 动画，插入在 media controls 后","已实现(基础)","在 XBrowser：实现 SidebarNotification 组件（可插入队列）","ui/qml/components/SidebarNotification.qml","ZEN-013","P2","M3","done","侧边栏可堆叠通知并带关闭按钮/链接动作",""
"ZEN-034","Updates","版本更新提示与窗口动画","src/zen/common/modules/ZenUpdates.mjs","检查版本变化并创建更新提示；首次 buildID 变化时在 zen-main-app-wrapper 播放动画","未实现","在 XBrowser：可选实现更新提示（未来自动更新/版本公告用）","docs/ (可选); ui/qml/components/SidebarNotification.qml","ZEN-033","P3","M4","done","可记录上次版本并在变更时提示一次",""
"ZEN-040","Tabs","垂直标签样式栈","src/zen/tabs/zen-tabs.css; src/zen/tabs/zen-tabs/vertical-tabs.css; src/zen/common/styles/zen-sidebar.css","zen-tabs.css + vertical-tabs.css 负责侧边栏 tabstrip 布局与细节","已实现(基础)","在 XBrowser：定义 Sidebar Tabs 视觉规范（间距/圆角/hover/选中/滚动）并组件化","ui/qml/components/TabList.qml; ui/qml/components/TabItem.qml","ZEN-031","MVP","M1","done","tab 列表支持选中/hover/滚动/右键菜单入口",""
"ZEN-041","Tabs","Essentials(固定/常用标签)区","src/browser/base/content/navigator-toolbox-inc-xhtml.patch; src/zen/tabs/ZenPinnedTabManager.mjs; src/zen/drag-and-drop/ZenDragAndDrop.js","#zen-essentials 容器；tab 上用 zen-essential 属性；DnD/动画/上限控制","已实现(基础)","在 XBrowser：增加 Pinned/Essentials 数据结构（可选：两级固定）并渲染为网格或列表","src/core/TabModel.*; ui/qml/components/EssentialsGrid.qml (待建)","ZEN-012","P1","M2","done","可把标签标记为 essentials，并在侧边栏独立显示",""
"ZEN-042","Tabs","固定标签管理器","src/zen/tabs/ZenPinnedTabManager.mjs","处理 pinned/essential：重置/替换 pinned URL、关闭行为(切换/卸载)、滚轮中键关闭等","已实现(基础)","在 XBrowser：实现 pinned tab 的“关闭键行为策略”与“重置到初始 URL(可选)”","src/core/TabModel.*; src/core/BrowserController.*","ZEN-041","P2","M3","done","Pinned tab 的关闭策略可配置，且不影响普通 tab",""
"ZEN-043","Tabs","标签重命名","src/zen/common/modules/ZenUIManager.mjs","双击 tab 启动重命名；toast 提示；可选启用","已实现(基础)","在 XBrowser：TabItem 支持 inline rename，并持久化到会话/工作区","src/core/TabModel.*; ui/qml/components/TabItem.qml","ZEN-040","P2","M3","done","双击可编辑标题并保存，刷新/切换标签不丢失",""
"ZEN-044","Tabs","无历史返回自动关标签","src/zen/common/modules/ZenCommonUtils.mjs","shouldCloseTabOnBack：有 owner 且非 pinned 且非 empty-tab 时后退关闭","已实现(基础)","在 XBrowser：可选实现类似规则（需 WebView2 历史判断）","src/engine/webview2/WebView2View.*; src/core/BrowserController.*","","P3","M4","done","当后退无历史且符合条件时自动关闭当前 tab",""
"ZEN-050","Workspaces","工作区总控","src/zen/workspaces/ZenWorkspaces.mjs","管理空间列表/切换/拖拽/滚动切换/手势；与 pinned/SessionStore 协作","已实现(基础)","在 XBrowser：新增 WorkspaceModel + WorkspaceController；将 TabModel 按 workspace 分桶","(建议新增) src/core/WorkspaceModel.*; src/core/WorkspaceController.*","ZEN-017","MVP","M1","done","可创建多个工作区，切换时 tab 列表与活动 tab 隔离",""
"ZEN-051","Workspaces","自定义元素与 UI","src/zen/workspaces/ZenWorkspace.mjs; src/zen/workspaces/ZenWorkspaceIcons.mjs; src/zen/workspaces/ZenWorkspaceCreation.mjs","<zen-workspace> / <zen-workspace-icons> / <zen-workspace-creation> 自定义元素","已实现(基础)","在 XBrowser：以 QML 组件实现 WorkspaceSwitcher + WorkspaceView + WorkspaceCreationDialog","ui/qml/components/WorkspaceSwitcher.qml; ui/qml/components/WorkspaceCreationDialog.qml","ZEN-050","MVP","M1","done","有工作区切换器；可创建/重命名/删除工作区",""
"ZEN-052","Workspaces/Theme","工作区主题与渐变生成","src/zen/workspaces/ZenGradientGenerator.mjs; src/zen/workspaces/zen-gradient-generator.css; src/browser/base/content/zen-panels/gradient-generator.inc","nsZenThemePicker + ZenGradientGenerator；支持纹理/旋转/透明度/系统色等","已实现(基础)","在 XBrowser：设计主题系统（全局+工作区覆盖），先实现 accent color + background gradient","ui/qml/components/Theme/* (待建)","ZEN-050","P2","M3","done","切换工作区时主题联动更新（至少颜色/背景）",""
"ZEN-053","Workspaces","工作区书签/快速入口存储","src/zen/workspaces/ZenWorkspaceBookmarksStorage.js; src/zen/common/ZenPreloadedScripts.js","ZenWorkspaceBookmarksStorage.js 通过 loadSubScript 注入；用于 workspace 级书签/入口","已实现(基础)","在 XBrowser：新增本地存储（JSON/SQLite）保存 workspace 的快捷入口","(建议新增) src/core/Storage/*; docs/DESIGN.md","ZEN-050","P3","M4","done","能持久化 workspace 的快捷入口列表并在 UI 显示",""
"ZEN-060","Folders","Tab Folder/Group 管理","src/zen/folders/ZenFolders.mjs; src/zen/folders/ZenFolder.mjs; src/zen/folders/zen-folders.css; src/browser/base/content/zen-panels/popups.inc","ZenFolders 监听 TabGrouped/TabGroup* 事件，提供新建/子文件夹/卸载/转空间等","部分实现","在 XBrowser：实现 TabGroup/Folder 模型（嵌套层级可先做 1 层）+ 折叠/展开","(建议新增) src/core/TabGroupModel.*; ui/qml/components/TabGroupItem.qml","ZEN-050","P2","M3","done","可把若干 tab 归为组并折叠/展开",""
"ZEN-061","Folders","Folder Tabs Popup 与搜索","src/zen/folders/zen-folders.css; src/zen/folders/ZenFolders.mjs; src/browser/base/content/zen-panels/folders-search.inc","#zen-folder-tabs-popup + search input，hover 延迟与过滤","未实现","在 XBrowser：实现组内搜索弹窗（或在组内内联搜索）","ui/qml/components/FolderTabsPopup.qml (待建)","ZEN-060","P3","M4","done","对组内 tabs 进行即时过滤搜索",""
"ZEN-070","SplitView","分屏/网格分割","src/zen/split-view/ZenViewSplitter.mjs","ZenViewSplitter 维护 split node tree，支持 grid/vsep/hsep/unsplit + tab drop","部分实现","在 XBrowser：实现 SplitView 容器（2-4 panes）+ 每 pane 绑定 tab/webview","ui/qml/components/SplitView.qml (待建); src/core/TabModel.*","ZEN-011","P1","M2","done","能把当前视图分成 2 个 pane 并分别打开不同 tab",""
"ZEN-071","SplitView","Overlay 与 Dropzone","src/zen/split-view/zen-splitview-overlay.inc.xhtml; src/zen/split-view/zen-decks.css; src/browser/base/content/zen-tabbrowser-elements.inc.xhtml","zen-splitview-overlay.inc.xhtml 定义 overlay/dropzone；zen-decks.css 控制交互区域","已实现(基础)","在 XBrowser：实现内容区 Dropzone（拖拽高亮边缘）并触发 split/rearrange","ui/qml/components/SplitDropzone.qml (待建)","ZEN-070","P2","M3","done","拖拽 tab 到内容区边缘时显示可放置区域并完成分屏",""
"ZEN-080","Glance","快速预览(Glance)总控","src/zen/glance/ZenGlanceManager.mjs; src/zen/glance/zen-glance.inc.xhtml; src/zen/glance/zen-glance.css","创建 glance tab 并挂到 parent tab，overlay 点击关闭；支持 fully open / split","已实现(基础)","在 XBrowser：可选实现 Preview Overlay（在同一 tab 内临时打开链接）","ui/qml/components/PreviewOverlay.qml (待建)","ZEN-070","P3","M4","done","可从链接触发预览并一键转为新 tab/分屏",""
"ZEN-081","Glance","内容页 Actor 注入","src/zen/common/sys/ZenActorsManager.sys.mjs; src/zen/glance/actors/ZenGlanceChild.sys.mjs; src/zen/glance/actors/ZenGlanceParent.sys.mjs","ZenGlance JSWindowActor 在 allFrames/matches=*://*/* 下接收事件并与 parent 通信","已实现(基础)","在 XBrowser：若做 Glance，需要 WebView2 注入脚本捕捉点击并回传 URL","src/engine/webview2/WebView2View.*","ZEN-080","P3","M4","done","能在页面内捕捉链接点击并按规则触发预览",""
"ZEN-090","Urlbar","Zen Omnibox Provider(快速动作)","src/zen/urlbar/ZenUBProvider.sys.mjs; src/zen/urlbar/ZenUBActionsProvider.sys.mjs; src/zen/urlbar/ZenUBGlobalActions.sys.mjs; src/zen/urlbar/ZenUBResultsLearner.sys.mjs","注册 UrlbarProvider：workspace actions/extension actions/global actions + learner","部分实现","在 XBrowser：规划 Omnibox 架构（建议源：历史/书签/动作/工作区），先实现动作建议","ui/qml/components/Omnibox.qml (待建); src/core/Suggestions* (待建)","ZEN-017","P2","M3","done","地址栏输入可出现“动作”建议并可执行",""
"ZEN-091","SiteDataPanel","站点数据/扩展统一面板","src/zen/urlbar/ZenSiteDataPanel.sys.mjs; src/browser/base/content/zen-panels/site-data.inc; src/browser/base/content/navigator-toolbox-js.patch","替换 unified-extensions-panel：在 identity-icon-box 前插入 #zen-site-data-icon-button 并复用 gUnifiedExtensions","未实现","在 XBrowser：可选实现 Site Panel（权限/下载/扩展入口/复制 URL）作为侧栏或弹层","ui/qml/components/SitePanel.qml (待建)","ZEN-016","P3","M4","done","存在可打开的站点面板并至少包含复制 URL/权限入口",""
"ZEN-092","Urlbar","复制 URL 按钮与 Share","src/zen/urlbar/ZenSiteDataPanel.sys.mjs; src/zen/common/modules/ZenCommonUtils.mjs","在 page-action-buttons 附近插入 #zen-copy-url-button，触发 cmd_zenCopyCurrentURL；可走原生 share","部分实现","在 XBrowser：实现复制 URL（剪贴板）+ 可选 Windows ShareSheet","src/core/BrowserController.*; src/core/Clipboard* (待建)","ZEN-032","P2","M3","done","复制 URL 有反馈；可选提供系统分享入口",""
"ZEN-100","Mods","Zen Mods 管理(CSS Mods)","src/zen/mods/ZenMods.mjs","管理下载/更新/应用 mods；合成 profile/chrome/zen-themes.css 并注入样式","实现中","在 XBrowser：可选实现“主题/皮肤包”系统（先做本地主题，后做在线）","ui/qml/components/Theme/*; src/core/ThemeManager.*","ZEN-052","P3","M4","done","可切换多套主题并持久化",""
"ZEN-101","Mods","Mods Backend XPCOM","src/zen/mods/components.conf; src/zen/mods/nsIZenModsBackend.idl; src/zen/mods/nsZenModsBackend.*; src/zen/mods/ZenStyleSheetCache.*","@mozilla.org/zen/mods-backend;1 提供 rebuildModsStyles 等服务","未实现","在 XBrowser：不需要 XPCOM，但需要等价的样式/主题应用层","","ZEN-100","P3","M4","done","主题应用不依赖 UI 线程阻塞且可缓存",""
"ZEN-102","Mods","Marketplace WindowActor","src/zen/common/sys/ZenActorsManager.sys.mjs; src/zen/mods/actors/ZenModsMarketplaceChild.sys.mjs; src/zen/mods/actors/ZenModsMarketplaceParent.sys.mjs","ZenModsMarketplace actor 只在 match-urls + about:preferences 生效，负责安装/卸载/更新查询","已实现(主题商店最小闭环)","在 XBrowser：用 ThemePackModel/ThemesDialog 提供 URL 安装/卸载/更新检查闭环（作为 Zen mods marketplace 的等价能力）。","src/core/ThemePackModel.*; ui/qml/components/ThemesDialog.qml","ZEN-100","P3","M4","done","能完成安装/卸载/更新检查的闭环（可后置）","Tools -> Themes：Install(URL) / Uninstall / Check Updates"
"ZEN-110","Downloads","下载动画组件","src/zen/downloads/ZenDownloadAnimation.mjs; src/zen/downloads/zen-download-arc-animation.css; src/zen/downloads/zen-download-box-animation.css","<zen-download-animation> 自定义元素 + arc/box 动画 CSS","部分实现","在 XBrowser：可选实现下载进度动效（先做下载列表，再做动效）","ui/qml/components/Downloads/* (待建)","","P3","M4","done","下载开始/完成/失败有可见反馈",""
"ZEN-120","Media","侧边栏媒体控制","src/zen/media/ZenMediaController.mjs; src/zen/media/zen-media-controls.inc.xhtml; src/zen/media/zen-media-controls.css","#zen-media-controls-toolbar + 控制按钮/进度条；仅在有媒体时显示","已实现(基础)","在 XBrowser：可选实现媒体控制（依赖 WebView2/MediaSession API 能力）","ui/qml/components/MediaControls.qml (待建)","","P3","M4","done","播放媒体时出现控制条并可控制",""
"ZEN-130","Emoji","Emoji Picker 面板","src/zen/common/emojis/ZenEmojiPicker.mjs; src/zen/common/emojis/ZenEmojisData.min.mjs; src/browser/base/content/zen-panels/emojis-picker.inc","ZenEmojiPicker + ZenEmojisData；popupset include emojis-picker.inc","已实现(基础)","在 XBrowser：可选实现 emoji 选择器（系统面板或内置）","ui/qml/components/EmojiPicker.qml (待建)","","P4","M5","done","可从 UI 打开 emoji 选择并插入到输入框",""
"ZEN-140","CompactMode","紧凑模式(隐藏/悬停显示)","src/zen/compact-mode/ZenCompactMode.mjs; src/zen/common/modules/ZenHasPolyfill.mjs; src/zen/common/styles/zen-compact-mode.css; src/zen/compact-mode/sidebar.inc.css","控制 sidebar/toolbar 在 hover 或 popup 时显示；用 ZenHasPolyfill 观察 selector 设置 zen-compact-mode-active","已实现(基础)","在 XBrowser：实现 CompactMode：自动隐藏地址栏/侧栏并悬停显示（可先做手动切换）","ui/qml/BrowserWindow.qml; (建议新增) src/core/LayoutController.*","ZEN-031","P2","M3","done","可切换紧凑模式且基本可用，不影响导航/输入",""
"ZEN-150","DnD","Tab/Workspace 拖拽行为","src/zen/drag-and-drop/ZenDragAndDrop.js","ZenDragAndDrop 继承 TabDragAndDrop：多选拖拽、essentials grid、拖到边缘切 space 等","部分实现","在 XBrowser：实现 tab 拖拽重排、拖拽到工作区切换/移动（先做重排）","ui/qml/components/TabList.qml; src/core/TabModel.*","ZEN-050","P2","M3","done","支持拖拽重排 tab，且不破坏激活状态",""
"ZEN-151","DnD","拖拽原生服务","src/zen/drag-and-drop/nsIZenDragAndDrop.idl; src/zen/drag-and-drop/nsZenDragAndDrop.*; src/zen/drag-and-drop/components.conf","@mozilla.org/zen/drag-and-drop;1 + nsIZenDragAndDrop（用于 OS 集成或统计）","已记录(不做原生服务)","已记录：XBrowser 当前用 QML 完成应用内拖拽(排序/分屏)，不做 OS 级拖拽服务；需要时再补 Windows-native bridge。","docs/ZEN_COMPAT.md; ui/qml/BrowserWindow.qml","ZEN-150","P4","M5","done","明确哪些拖拽能力由 QML 自带，哪些需要原生层补足","打开 docs/ZEN_COMPAT.md 的 ZEN-151 小节"
"ZEN-160","Session","Tab Zen 元数据恢复","src/zen/common/modules/ZenSessionStore.mjs","restoreInitialTabData：把 workspaceId/syncId/staticLabel/essential 等恢复到 tab attributes","已实现(基础)","在 XBrowser：实现会话持久化（tab 列表+active+workspace）并在启动恢复","(建议新增) src/core/SessionStore.*; src/core/WorkspaceModel.*","ZEN-050","P1","M2","done","重启后恢复 tab 列表与当前工作区/当前 tab",""
"ZEN-161","WindowSync","多窗口同步","src/zen/sessionstore/ZenWindowSync.sys.mjs","ZenWindowSync 监听 TabOpen/Close/Move/Pinned/Group/Split/Focus 等并在窗口间同步","已记录(设计/约束)","已记录：当前单窗口；如需多窗口共享工作区与 tab 元数据，采用 versioned state + 显式同步层，避免共享 WebView 实例。","docs/ZEN_COMPAT.md; src/core/SessionStore.*","ZEN-160","P3","M4","done","（可选）多窗口共享同一组工作区与 tab 元数据","打开 docs/ZEN_COMPAT.md 的 ZEN-161 小节"
"ZEN-162","Session","侧边栏状态文件(zen-sessions)","src/zen/sessionstore/ZenSessionManager.sys.mjs","ZenSessionManager 写 zen-sessions.json(lz4) + backups；保存 tabs/groups/folders/split/spaces","已实现(基础)","在 XBrowser：定义 session JSON/SQLite schema，覆盖 workspace/tab/group/split 状态","docs/DESIGN.md; (建议新增) src/core/Storage/*","ZEN-160","P1","M2","done","有稳定的数据结构与版本迁移策略（至少预留 version 字段）",""
"ZEN-180","Theme","主题变量注入(Accent/Radius/Separation)","src/zen/common/zenThemeModifier.js","ZenThemeModifier 监听 pref 与事件，写 CSS vars (--zen-primary-color 等) 并处理 fullscreen/compact/split 特例","已实现(基础)","在 XBrowser：用 QML 单例 Theme（properties）驱动全局样式，避免散落硬编码","ui/qml/components/Theme.qml (待建)","ZEN-052","P2","M3","done","切换主题/工作区时，UI 颜色/圆角/间距同步更新",""
"ZEN-181","Theme","全局样式装载点","src/browser/base/content/zen-assets.inc.xhtml; src/zen/common/styles/*.css","zen-assets.inc.xhtml 的 linkset 装载 zen-theme/toolbar/sidebar/tabs/workspaces/... 作为布局骨架","已实现(基础)","在 XBrowser：把布局规则放到 QML 组件与 theme vars，而不是散落在 JS","ui/qml/components/*","ZEN-180","MVP","M1","done","样式可通过少量 theme vars 调整而不需要全局搜索替换",""
"ZEN-190","Welcome","首次启动欢迎页","src/zen/welcome/ZenWelcome.mjs; src/zen/welcome/zen-welcome.css","ZenWelcome + zen-welcome.css；pref zen.welcome-screen.seen 控制是否展示","已实现(基础)","在 XBrowser：可选实现 onboarding（首次启动引导/快捷键提示）","ui/qml/components/Onboarding.qml (待建)","","P4","M5","done","首次启动展示一次并可跳过",""
"ZEN-200","NativeUtils","原生分享与触感反馈","src/zen/toolkit/common/nsIZenCommonUtils.idl; src/zen/toolkit/common/windows/ZenShareInternal.cpp; src/zen/toolkit/common/cocoa/ZenShareInternal.mm; src/zen/toolkit/common/cocoa/ZenHapticFeedback.mm","nsIZenCommonUtils: share/canShare/playHapticFeedback；Windows/Mac 平台实现","部分实现","在 XBrowser：如要系统分享/触感，需写 Windows 原生集成（可后置）","","ZEN-092","P4","M5","done","可选：具备系统分享能力或明确不做",""
"ZEN-210","Menubar","菜单栏与窗口 scheme","src/zen/common/modules/ZenMenubar.mjs","ZenMenubar 处理菜单栏/窗口配色方案等（不同平台差异）","部分实现","在 XBrowser：Windows-only 可简化，但需定义窗口主题/标题栏按钮策略","ui/qml/BrowserWindow.qml","","P3","M4","done","窗口/标题栏控件布局策略明确并可配置",""
"ZEN-220","Core/Polyfill",":has 选择器观察与属性桥","src/zen/common/modules/ZenHasPolyfill.mjs","ZenHasPolyfill 提供 observeSelectorExistence/connectObserver 等，用于 compact mode 等自动显示逻辑","未实现","在 XBrowser：用 QML States/Bindings/Connections 实现等价的状态派生与样式切换","ui/qml/components/*","ZEN-140","P2","M3","done","UI 状态派生清晰（popup open/hover/focus）且不靠到处写 if",""
"ZEN-221","Migration","UI/配置迁移","src/zen/common/sys/ZenUIMigration.sys.mjs; src/zen/common/modules/ZenUIManager.mjs","记录迁移版本与一次性迁移动作（如按钮自动加入）","未实现","在 XBrowser：为 settings/session 引入 schemaVersion + 迁移器","(建议新增) src/core/Migrations.*","ZEN-162","P2","M3","done","配置文件带版本号且至少支持一次迁移示例",""
